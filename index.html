<html>
    <head>
        <title>Loja Virtual</title>
        <meta charset="utf-8"/>

        <style>

            #products,
            #cart{
                max-width: 900px;
                margin: 0 auto;
                padding: 0 2%;
                display: flex;
            }

            #cart{
                display: block;
            }

            .single-product{
                width: 33.3%;
                padding: 0 20px;
            }

        </style>

    </head>

    <body>

        <h2>Vitrine: </h2>
        <div id= "products">
        </div>

        <h2>Carrinho: </h2>
        <div id= "cart">
        </div>

        <script>

            const items = [
            {
                    id: 0,
                    nome: 'camiseta',
                    img: 'image.jpg',
                    quantidade: 0
                },
                {
                    id: 1,
                    nome: 'short',
                    img: 'image.jpg',
                    quantidade: 0
                },
                {
                    id: 2,
                    nome: 'sapato',
                    img: 'image.jpg',
                    quantidade: 0
                },
                
            ]

            startShop = () => {
                var containerProducts = document.getElementById('products');

                items.map( 
                    (val) => {
                        containerProducts.innerHTML+= `
                        
                        <div class="single-product">
                            <img src="`+val.img+`" />
                            <p>`+val.nome+`</p>
                            <a key="`+val.id+`" href="#">Adicionar ao carrinho!</a>
                        </div>
                        
                        
                        `;
                    }
                 )
            }

            startShop();

            updateCart = () => {
                var containerCart = document.getElementById('cart');  

                containerCart.innerHTML = "";

                items.map( 
                    (val) => {
                        if(val.quantidade > 0 ){
                            containerCart.innerHTML+= `
                            
                            <p>`+val.nome+` | quantidade: `+val.quantidade+`</p>
                            <hr>
                            
                            
                            `;
                        }
                    }
                )
            }

            var links = document.getElementsByTagName('a');

            for(var i = 0; i < links.length; i++){
                links[i].addEventListener("click",function(){
                    let key = this.getAttribute('key');
                        // console.log(` A Key é igual a : ${key} `)   |     ==>>     " A Key é igual a : 0 "
                    items[key].quantidade++; // ADICIONA +1 QUANTIDADE AO ITEM 
                    updateCart();
                    return false;
                })
            }

        </script>
    </body>
</html>